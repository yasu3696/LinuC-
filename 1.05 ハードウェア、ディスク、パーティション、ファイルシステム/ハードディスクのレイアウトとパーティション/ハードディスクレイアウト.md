# 🧭 パーティションとは？

-   ハードディスクやSSDなどの記憶装置を**複数の領域に分割**すること
-   各領域は**独立したファイルシステム**として扱える
-   1つの物理ディスクに複数のOSをインストールしたり、データ領域を分けたりするのに使われる

📌 例えるなら、1枚の紙を複数のフォルダーに分けて管理するようなイメージです

## 📦 パーティションの種類（MBR形式の場合）

| 種類 | 説明 | 備考 |
|----------|----------|------------|
| プライマリパーティション | 最大4つまで作成可能 | OSやブート領域に使われる |
| 拡張パーティション | プライマリの1つを拡張として設定 | 論理パーティションを含む |
| 論理パーティション | 拡張パーティション内に作成 | 実質的に追加の領域として利用可能 |

※ GPT形式ではこの制限がなく、最大128個のパーティションが作成可能です

<br>

-----------------

<br>

# 🧭 ハードディスクレイアウトとは？

<br>
<br>

-   ディスクを**論理的に分割（パーティション）**し、それぞれに役割を持たせる設計
-   目的に応じて `/home`, `/var`, `/boot`, `swap` などを**個別パーティションに分離**することで、障害時の影響を局所化したり、容量管理をしやすくする

## 📦 Linuxでよく使われるパーティション構成（分割可能）

| パーティション | 用途 | 分割のメリット |
|---------------|---------------|--------------|
| `/`（ルート）| OS全体の基盤 | 最小限にして障害時の復旧を容易に |
| `/boot` | カーネルやGRUBなど起動関連 | EFI環境ではESPと分離して管理しやすく |
| `/home` | ユーザーのデータ領域 | OS再インストール時にデータ保持可能 |
| `usr` | 起動には不要なプログラムなど格納 |  |
| `/var` | ログやメールなど頻繁に変化するデータ | ログ肥大化によるシステム停止を防止 |
| `swap` | 仮想メモリ領域 | メモリ不足時の補助として活用 |
| `/tmp` | 一時ファイルを格納 | 容量肥大化の防止、パフォーマンス向上、セキュリティ強化 |

<be>
<br>

## 📦 Linuxでよく使われるパーティション構成（分割不可）

| パーティション | 用途 | 分割出来ない理由 |
|---------------|---------------|--------------|
| `/bin`| 一般ユーザーのコマンドを格納 | 別パーティションにあると、起動に必要なコマンドやライブラリが見つからず起動失敗につながる |
| `/sbin` | 管理者用のコマンドを格納 | 別パーティションにあると、起動に必要なコマンドやライブラリが見つからず起動失敗につながる |
| `/etc` | システムの設定ファイルを格納 | 頻繁にアクセス・更新されるため分割非推奨 |
| `/lib` | 共有ライブラリを格納 | 別パーティションにあると、initが起動できず、システムが止まるため分割不能 |
| `dev` | デバイスファイルを格納 | 動的生成されるため分割不能 |


<br>


## 🛠 レイアウト設計の例（Webサーバー）

### ディスク容量：100GB / メモリ：4GB 
### /boot → 512MB 
### swap → 2GB 
### /var/log → 20GB（ログ肥大化対策）
### /usr → 10GB（アプリケーション領域）
### / → 10GB（ルートファイルシステム）
### /home → 残り（ユーザーデータ）
