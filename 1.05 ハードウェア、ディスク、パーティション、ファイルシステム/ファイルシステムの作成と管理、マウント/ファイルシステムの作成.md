## 📚 **基本的な構文mkfsコマンド

### mkfs -t <ファイルシステムの種類> <ターゲットデバイス>

<br>

### 🧾 例：mkfs -t ext4 /dev/sdb1

これは `/dev/sdb1` に ext4 ファイルシステムを作成します。

<br>

## 🔍 **ファイルシステムタイプの主な選択肢**

| タイプ| 用途・特徴 |
|--------------------|------------------|
| `ext4` | 汎用性が高く、Linuxで広く使われる安定した形式 |
| `xfs` | 大容量・高性能を求められる環境向け |
| `btrfs` | スナップショットや圧縮など、高度な機能が豊富 |
| `vfat` | WindowsやUSBメモリとの互換性が必要なとき |

🔧 また、`mkfs.ext4` のように特定の形式に特化したサブコマンドも使えます。

### 🧠 **実行時の注意ポイント**

-   📛 **データ消去**：`mkfs`を実行すると、対象デバイス内のデータが完全に消去されるので注意！
-   🔐 **root権限必須**：多くのケースで `sudo` が必要です。
-   🔄 **マウント解除**：デバイスがマウントされていないか事前に確認しましょう。

<br>

--------------------------------

<br>

## 🛠️ **便利なオプション**

| オプション | 内容 |
|--------------------|-------------------|
| `-t` | ファイルシステムの種類を指定 |
| `-c` | 不良ブロックを検査する |
| `-V` | コマンドの詳細情報を表示（verbose）|
| `-L <ラベル名>` | ファイルシステムにラベルを設定 |
| `-n` | 実際には書き込みを行わず、処理内容を表示（dry run）|

<br>

-----------------------

<br>


## 🧰 **基本構文** mke2fs コマンド

### mke2fs [オプション] <デバイス>

📝 例：mke2fs -t ext4 -L MyDisk /dev/sdb1

これは `/dev/sdb1` に ext4 ファイルシステムを作成し、ラベルを "MyDisk" に設定します。

<br>

## 🔍 **主なオプション一覧**

| オプション | 説明 |
|---------------------|----------------|
| `-t <タイプ>` | ファイルシステムの種類（ext2/ext3/ext4）を指定 |
| `-c` | 不良ブロックを検査する |
| `-L <ラベル名>` | ファイルシステムにラベルを設定 |
| `-b <サイズ>` | ブロックサイズを指定（例：`-b 4096`）|
| `-i <バイト数>` | iノードの作成間隔（例：`-i 16384` は16KBごとに1つのiノードを作成）|
| `-j` | ジャーナリング機能を有効にして ext3 を作成 |
| `-O <機能>` | ext4の機能を指定（例：`-O ^has_journal` でジャーナルを無効化）|
| `-n` | 実際には書き込まず、処理内容だけを表示（dry run）|

<br>

-----------------

<br>


## 🛠️ **基本構文**

### mkfs.btrfs [オプション] <デバイス>

📝 例：mkfs.btrfs -L myvolume /dev/sdb1

これは `/dev/sdb1` に Btrfs ファイルシステムを作成し、ラベルを "myvolume" に設定します。

<br>

## 🔍 **主なオプション**

| オプション | 説明 | 
|--------------------|-------------------|
| `-L <ラベル名>` | ファイルシステムにラベルを設定 |
| `-m <モード>` | メタデータの配置方法（例：`single`, `raid0`, `raid1`, `raid10`）|
| `-d <モード>` | データの配置方法（同上）|
| `-f` | 強制的に作成（既存のファイルシステムを上書き）|
| `<複数デバイス>` | RAID構成などで複数のデバイスを指定可能 |

<br>

## 🛠️ **XFSファイルシステムの作成**

mkfs.xfs /dev/sdX

-   `-f`：既存のファイルシステムを強制的に上書き
-   `-L <ラベル名>`：ラベルを設定
-   `-b size=<サイズ>`：ブロックサイズを指定（例：`size=4096`）

<br>

## 🔍 **情報の表示・管理**

| コマンド | 説明 |
|------------------|----------------|
| `xfs_info` | マウント済みのXFSファイルシステムの情報を表示 |
| `xfs_admin` | ラベルの表示・変更などを行う |
| `xfs_db` | ファイルシステムの低レベルデバッグツール |

📝 例：xfs_info /mnt/data xfs_admin -L NewLabel /dev/sdX1

<br>

## 🧹 **修復・整合性チェック**

| コマンド | 説明 |
|-----------------------|------------------|
| `xfs_repair` | ファイルシステムの修復 |
| `xfs_check` | 非推奨。代わりに `xfs_repair -n` を使用 |

📝 例：xfs_repair /dev/sdX1

<br>

## ❄️ **凍結・解凍（バックアップ用途など）**

| コマンド | 説明 |
|------------------|----------------|
| `xfs_freeze` | 書き込みを一時停止（凍結）|
| `fsfreeze` | 汎用的な凍結コマンド（XFSでも使用可能）|

📝 例：xfs_freeze -f /mnt/data xfs_freeze -u /mnt/data

<br>

## 🧽 **デフラグ・断片化確認**

| コマンド | 説明 |
|---------------|-------------|
| `xfs_fsr` | ファイルシステムのデフラグ |
| `xfs_bmap` | ファイルのブロックマップを表示 |

<br>


