## 🌳 ファイルシステムの構造（ツリー型）

Linuxでは、すべてのファイルとディレクトリが「ツリー構造」で管理されています。ルート（`/`）を起点に枝分かれしていくスタイルです。

-   `ls /`でルート直下のディレクトリを確認できます


## 📂 主なディレクトリの役割：

| ディレクトリ | 説明 | 
|-------------|-------------|
| `/` | ルート（全ての始まり）|
| `/bin` | 基本的なコマンド（`ls`, `cp`, `mv`など）|
| `/sbin` | システム管理コマンド（`mount`, `shutdown`など）|
| `/etc` | システム設定ファイル（`passwd`, `fstab`など）|
| `/home` | 各ユーザーの作業領域（例：`/home/ryuto`）|
| `/var` |可変データ（ログ、メールなど）|
| `/tmp` | 一時ファイル置き場（起動時にリセット）|
| `/dev` | デバイスファイル（ハードウェアを仮想化）|
| `/proc` | 仮想ファイル、カーネルとプロセス情報|

<br>

## 📦 ファイルの扱いの基本

Linuxでは、**すべてがファイル**として扱われます。デバイスでさえ `/dev/sda` のようにファイルとして見えます。

-   テキストファイルも、デバイスも、ソケット通信も → すべて「ファイル」

✅ ファイルの種類：

-   通常ファイル：テキストやバイナリ
-   ディレクトリ：フォルダ
-   シンボリックリンク：他のファイルへの参照
-   特殊ファイル：デバイスやパイプ

<br>

## 📁 マウントの概念

Linuxでは、ストレージを使うには**マウント**が必要です。

-   例：`mount /dev/sdb1 /mnt/usb` → USBメモリを`/mnt/usb`に接続
-   `umount` で取り外し

`df -h` でディスク使用量、 `lsblk` や `blkid` でデバイス一覧を見るのが定番ですね。

<br>

## 🧾 主なファイルシステム一覧と特徴

| ファイルシステム | 特徴 | 向いている用途 |
|-------------|------------------|------------------|
| `ext4` | 最も一般的。ジャーナリング対応、安定性・性能のバランス◎ | デスクトップ、サーバー全般 |
| `xfs` | 高速なI/O、メタデータ処理が得意。スナップショットには非対応 | 大容量ログ保存、RHEL系サーバー |
| `btrfs` | スナップショット、圧縮、自己修復など高度な機能が豊富 | 開発用途、仮想環境、実験的な環境 |
| `vfat` / `exfat` | Windowsとの互換性あり。ジャーナリング無し | USBメモリやSDカード |
| `ntfs` | Windows標準。Linuxでは読み書き可能だが制限あり | 外付けディスク共有など |
| `tmpfs` | RAM上に構築される一時ファイルシステム。高速 | `/tmp` や一時データ管理 |
| `f2fs` | フラッシュメモリ向けに最適化された設計 | SSD、eMMC、スマートフォンの内部ストレージ |
| `overlayfs` | 複数層のファイルシステムを統合する仕組み | コンテナ環境（Dockerなど）|

🧪 比較ポイント

-   **ジャーナリング**（データの整合性を保つ） → `ext4`, `xfs`, `btrfs` など
-   **スナップショット機能** → `btrfs` が強力
-   **高速性** → `xfs`, `tmpfs` はI/O性能が高い
-   **互換性** → USBやWindowsとのデータ交換なら `vfat` や `ntfs`

<br>

## 📦 **セクタ（Sector）とは？**

-   **物理的な最小記録単位**です。
-   ハードディスクやSSDなどのストレージデバイスが、データを保存する最小単位。
-   一般的なサイズは **512バイト** または **4096バイト（4KiB）**。
-   OSやファイルシステムはこの単位で読み書きを行います。

🧠 例：HDDでは1セクタ = 512バイト、SSDでは1セクタ = 4096バイトが主流。

<br>

---------------------

<br>

### `「セクタ」`と言う区画に分かれていて`「ブロック」`と言う単位でデータを管理（ファイルシステム）すると使いやすい

## 🧱 **ブロック（Block）とは？**

-   **ファイルシステムが管理する論理的な記録単位**です。
-   セクタを複数まとめたもの（例：1ブロック = 8セクタ = 4096バイト）。
-   ファイルの保存や読み書きはこの単位で行われます。
-   ブロックサイズは通常 **1KiB〜4KiB** ですが、用途に応じて変更可能。

🔍 ext4 ではデフォルトで 4KiB ブロックが使われることが多いです。


<br>

## 🔗 **セクタとブロックの関係**

| 項目 | セクタ | ブロック |
|-------------------|----------------|---------------|
| 単位の種類 | 物理的 | 論理的 |
| 管理対象 | ストレージデバイス |ファイルシステム |
| サイズ例 | 512B / 4096B | 1024B / 2048B / 4096B など |
| 読み書き単位 | デバイスとのやり取り | ファイルとのやり取り |

<br>

🧠 **補足：クラスタ（Cluster）とは？**

-   FATなどのファイルシステムでは、**複数のブロックをまとめた単位**としてクラスタが使われます。
-   小さなファイルが多い場合はクラスタサイズを小さく、大きなファイルが多い場合は大きくすることで効率化できます。



