# 🧵 Linuxパイプ（`|`）チートシート

<br>
<br>

**パイプの基本：**

-   `コマンド1 | コマンド2`  
    → コマンド1の標準出力を、コマンド2の標準入力に渡す。



## 📄 ファイル操作や検索

| コマンド例 | 説明 |
|---|---|
`cat file.txt ｜ grep "error"` | ファイルから`error`を含む行を表示 |
| `ls -l ｜ less` | ファイル一覧をページで表示（`less`でスクロール）|
| `find . -name "*.log" ｜ xargs grep "fatal"` | `.log`ファイル全てから`fatal`を探す |
| `du -h ｜ sort -h ｜ tail -n 10` | サイズの大きい順に上位10ファイルを表示 |

<br>

## 🔍 テキスト処理・フィルタ

| コマンド例 | 説明 |
|---|---|
| `ps aux ｜ grep apache` | 実行中の`apache`プロセスを探す |
| `dmesg ｜ grep -i error` | カーネルログからエラーを抽出 |
| `cut -d: -f1 /etc/passwd ｜ sort` | ユーザー名一覧をアルファベット順に表示 |
| `cat access.log ｜ awk '{print $1}' ｜ sort ｜ uniq -c ｜ sort -nr` | IPアドレスのアクセス回数を集計 |

<br>

## ⚙️ システムモニタ・管理

| コマンド例 | 説明 | 
|---|---|
| `top -b -n1 ｜ head -n 20` | topコマンドの上位20行を取得（バッチモード）|
|  `df -h ｜ grep "^/dev"` | マウントされたディスク情報だけを表示 |
| `uptime ｜ cut -d "," -f1` | システムの稼働時間だけを表示 |

<br>

## 💡 応用Tips

-   `tee`を組み合わせることで、パイプの途中でログ保存が可能：some_command | tee output.log | grep "success"

-   複数の条件をANDで処理する：cat file.txt | grep "apple" | grep "banana"

-   エラー出力を含めたい場合は `2>&1` を使う：some_command 2>&1 | grep "failed"

<br>
<br>


-----------------------------------------------------------------------

<details>
<summary>
  
# パイプ（`|`）と `<`の違い
</summary>

## 🔀 パイプ（`|`）の意味と使い方

-   **前のコマンドの標準出力（stdout）を、次のコマンドの標準入力（stdin）として渡す**。
-   **2つ以上のコマンドを“つなげて処理”**したいときに使います。

### 例：cat file.txt | grep "error"

-   `cat` がファイルの内容を出力
-   その出力を `grep` が標準入力として受け取り、「error」を検索

🧠 _実際には `grep "error" file.txt` で済むけど、`cat` との組み合わせで柔軟に処理できる場面もあります。_

<br>

## 📥 リダイレクト `<` の意味と使い方

-   **ファイルからの入力（stdin）を提供するため**に使います。
-   コマンドが通常キーボードから受け取る入力を、ファイルからに「切り替える」イメージ。

### 例：grep "error" < file.txt

-   `file.txt` の内容が `grep` に標準入力として渡される

📝 _`<` を使うと、「キーボード入力してるフリ」をファイルに演じさせてる感じです。

<br>

### 🎯 違いをざっくり比較！

| 比較項目 | `｜`（パイプ）| `<`（入力リダイレクト）|
|-----------------|-----------------------|-------------------|
| データの送り元 | コマンドの出力 | ファイル |
| 受け取り先 | 次のコマンド | 実行中のコマンド |
| 使用例 | `cat file a｜grep foo` | `grep foo < file` |
| 用途 | コマンド同士の接続 | コマンドにファイル入力を渡す |

<br>

ちなみに Ryuto さんのように `sed` や `tr` などをよく使う方には、パイプを組み合わせて「ストリーム処理」をどんどん繋いでいくのが得意技になってきますよ 🧪🐧  
たとえば：cat access.log | grep "404" | cut -d ' ' -f 1 | sort | uniq -c
</details>





### [リダイレクト チートシート](https://github.com/yasu3696/LinuC-/blob/main/%E6%88%90%E9%95%B7%E3%81%AE%E9%81%93/%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88.md)
