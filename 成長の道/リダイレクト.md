# 🐧 Linux `リダイレクト` チートシート

<br>
<br>


## 📥 標準入力（stdin）と標準出力（stdout）

| 操作 | コマンド例 | 説明 |
|---|---|---|
| 出力をファイルに保存 | `command > file.txt` | 出力を`file.txt`に上書き保存 |
| 出力をファイルに追記 | `command >> file.txt` | 出力を`file.txt`に追記 |
| 入力をファイルから読み込み | `command < file.txt` | `file.txt`の内容を入力として使う |

この場合、「file.txt の中身を command に渡す」＝「file.txt の中身を command の標準入力として送る」ということになります。 

<br>

## ⚠️ エラー出力（stderr）の扱い

| 操作 | コマンド例 | 説明 |
|---|---|---|
| エラー出力をファイルに保存 | `command 2> error.txt` | stderrを`error.txt`に書き込む |
| エラー出力を標準出力と同じに | `command 2>&1` | stderrをstdoutに結合 |
| 全出力（stdout + stderr）を保存 | `command > all.txt 2>&1` | すべての出力を`all.txt`に保存 |


<br>

🔁 応用テクニック

| テクニック | コマンド例 | 説明 |
|---|---|---|
| 両方の出力を個別にファイル保存 | `command > out.txt 2> err.txt` | stdoutとstderrを別々のファイルに保存 |
| `/dev/null`への出力破棄 | `command > /dev/null` | 出力を無視（破棄）|
| 入出力をパイプでつなぐ | `command1 | command2` | `command1`の出力を`command2`の入力に |

<br>

💡 補足：ファイル記述子（FD）

-   `0`: 標準入力（stdin）
-   `1`: 標準出力（stdout）
-   `2`: 標準エラー出力（stderr）

<br>

<details>
<summary>

-----------------------------------------------------------------------

# パイプ（`|`）と `<`の違い
</summary>

## 🔀 パイプ（`|`）の意味と使い方

-   **前のコマンドの標準出力（stdout）を、次のコマンドの標準入力（stdin）として渡す**。
-   **2つ以上のコマンドを“つなげて処理”**したいときに使います。

### 例：cat file.txt | grep "error"

-   `cat` がファイルの内容を出力
-   その出力を `grep` が標準入力として受け取り、「error」を検索

🧠 _実際には `grep "error" file.txt` で済むけど、`cat` との組み合わせで柔軟に処理できる場面もあります。_

<br>

## 📥 リダイレクト `<` の意味と使い方

-   **ファイルからの入力（stdin）を提供するため**に使います。
-   コマンドが通常キーボードから受け取る入力を、ファイルからに「切り替える」イメージ。

### 例：grep "error" < file.txt

-   `file.txt` の内容が `grep` に標準入力として渡される

📝 _`<` を使うと、「キーボード入力してるフリ」をファイルに演じさせてる感じです。

<br>

### 🎯 違いをざっくり比較！

| 比較項目 | `|`（パイプ）| `<`（入力リダイレクト）|
|-----------------|-----------------------|-------------------|
| データの送り元 | コマンドの出力 | ファイル |
| 受け取り先 | 次のコマンド | 実行中のコマンド |
| 使用例 | `cat file a｜grep foo` | `grep foo < file` |
| 用途 | コマンド同士の接続 | コマンドにファイル入力を渡す |

<br>

ちなみに Ryuto さんのように `sed` や `tr` などをよく使う方には、パイプを組み合わせて「ストリーム処理」をどんどん繋いでいくのが得意技になってきますよ 🧪🐧  
たとえば：cat access.log | grep "404" | cut -d ' ' -f 1 | sort | uniq -c
</details>




<br>

### [パイプ（|）チートシート](https://github.com/yasu3696/LinuC-/blob/main/%E6%88%90%E9%95%B7%E3%81%AE%E9%81%93/%E3%83%91%E3%82%A4%E3%83%97.md)
<br>
