# 🛠️ `sed` の編集コマンド チートシート

<br>
<br>


## ⚙️ `sed` の主なオプション一覧

| オプション | 説明 | 使用例 |
|---|---|---|
| 使用例 | 
| `-e` | 複数の編集コマンドを指定 | `sed -e 's/foo/bar/' -e '/baz/d' file.txt` |
| `-n` | デフォルト出力を抑制し、`p`など明示したときだけ出力 | `sed -n '/error/p' log.txt` |
| `-i` |ファイルを**直接編集（上書き）**  `sed -i 's/old/new/g' file.txt`  🔒 **注意：元に戻せないのでバックアップ推奨** |
| `-i.bak` | 編集前に `.bak` という拡張子でバックアップを作成 | `sed -i.bak 's/foo/bar/g' file.txt` |
| `-f` | 編集スクリプトをファイルから読み込む | `sed -f script.sed file.txt` |


<br>



## 🎯 基本の置換（substitution）

### sed 's/置換前/置換後/g' ファイル名

#### -   `s`：substitute（置換）
#### -   `g`：global（行内すべての一致箇所を対象）
#### -   `1,3s/foo/bar/`：1行目～3行目でのみ置換


<br>



## 🧹 削除（delete）

### sed '/pattern/d' ファイル名

#### -   特定のパターンを含む行を削除
#### -   `1,5d`：1行目～5行目を削除
#### -   `$d`：最終行を削除


<br>


## ✂️ 抽出（print / quit）

### sed -n '/pattern/p' ファイル名

#### -   `-n`：出力抑制（必要な行だけ出力）
#### -   `/pattern/p`：パターンに一致した行だけ出力
#### -   `5q`：5行目で終了（高速化に便利）


<br>



## 🧬 挿入・追加・置換

| コマンド例 | 意味 |
|---|---|
| `sed '2a 追加する行'` | 2行目の後に挿入（a：append） |
| `sed '3i 挿入する行'` | 3行目の前に挿入（i：insert） |
| `sed '4c 差し替える行'` | 4行目を丸ごと差し替え（c：change）|


<br>



## 🔄 複数コマンドの組み合わせ

### sed -e 's/foo/bar/' -e '3d' file.txt

#### -   `-e`で複数の編集コマンドを並列実行
#### -   `;`や`{}`で連結も可：

### sed '1,3{ s/foo/bar/; d }' file.txt


<br>


## 📌 高度な例（行の入れ替え・条件分岐）

#### -   行を逆順にしたいとき（要工夫）

### tac file.txt | sed '...'

#### -   奇数行・偶数行を分ける：

### sed 'n;d' file.txt # 奇数行だけ出力

<br>
