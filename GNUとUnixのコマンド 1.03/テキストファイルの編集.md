# テキストファイルの編集
<br>
<br>

### 標準的に使われているテキストエディタ

| viエディタ |  
|--|
| .Unixで標準的に使われているテキストエディタ |
| ・viエディタの機能を拡張したものにvimやEmacsがある |
| ・入力モードとコマンドモードがあり、この２つを切り替えながら使用する | 

<br>

### 使用する環境変数の切り替え

| 基本構文 |
| -- |
| export EDITOR=パス |

<br>

----------------------------

<br>

### viの設定に関するコマンド

| コマンド | 説明 |
|--|--|
| :set nu | 行番号を表示する |
| :set nonu | 行番号を表示しない |
| :set ts=数字 | 「Tab」キーで挿入される空白の数を指定する |

<br>

------------------

<br>

### カーソル位置（入力位置）に関するコマンド（コマンドモード）

| コマンド | 説明 |
|--|--|
| k | １文字上に移動する（「↑」キーでも可） |
| j | １文字下に移動する（「↓」キーでも可） |
| l | １文字右に移動する（「→」キーでも可） |
| h | １文字左に移動する（「←」キーでも可） |
| 0 | カーソルがある行の最初に移動する |
| $ | カーソルがある行の最後に移動する |
| gg | ファイルの先頭に移動する |
| G | ファイルの末尾に移動する |
| :n | ファイルのn行目へ移動 |
| H | 画面の最上行へ移動 |
| L | 画面の最下行へ移動 |
| :r !コマンド | 外部コマンドの出力を現在の位置に読み込む |
| 「数字G」または「:数字」 | 数字で指定した行番号に移動する |
| Ctrl+b | １画面分、上方を表示 |
| Ctrl+f | １画面分、下方を表示 |

<br>

----------------------------------

<br>

### 入力に関するコマンド
| コマンド | 説明 |
|--|--|
| i | カーソルの左側から入力する |
| a | カーソルの右側から入力する |
| I | カーソルの行の最初に移動し、その場所（左側）から入力する |
| A | カーソルの行の末尾に移動し、その場所（左側）から入力する |
| o | カーソルがある行のすぐ下の空白の行を挿入し、その行から入力する |
| O | カーソルがある行のすぐ上の空白の行を挿入し、その行から入力する |

<br>

---------------------

<br>

### 編集に関するコマンド（コマンドモード）
| コマンド | 説明 |
|--|--|
| x | カーソルがある場所の文字を削除しバッファにコピー |
| X | カーソルの左側の文字を削除し、バッファにコピー |
| dd | 現在の行を削除し、バッファにコピー |
| dw | カーソル位置の単語を削除し、バッファにコピー |
| yy | 現在の行を（バッファに）コピーする |
| yw | カーソル位置の単語にバッファをコピー |
| P | バッファの内容を挿入（文字や単語はカーソルの左、行はカーソルの上に挿入）
| p | バッファの内容を挿入（文字や単語はカーソルの右、行はカーソルの下に挿入） |
| u | 元に戻す（直前の編集を取りやめる） |
| . | 繰り返す（直前の編集を再実行） |
| :r ファイル名 | 指定したファイルの内容をカレント行の後に読み込んで挿入する |
| -R | 「-R」オプションを指定すると指定したファイルを読み取り専用で開きます。 |

<br>

------------------------

<br>

### ファイルの保存や終了に関するコマンド

| コマンド | 説明 |
|--|--|
| :w | 編集中の内容をファイルに上書き保存 |
| :wq | 編集中の内容をファイルに上書き保存して終了 |
| ZZ | 上記（:wq）と同じ |
| :q! | ファイルを保存せず終了 |
| :q | ファイルを保存せず終了（変更内容がある場合は確認される） |
| :e! | 保存せずに現在のファイルを強制再読み込み |
| :e![ファイル名] | 保存せずに現在のファイルを強制再読み込み、***内容が変更されている場合は、現在開いているファイルを最後に保存した状態に戻してから別ファイルを開く***|
| :e | 	ファイルを開く（再読み込み） |
| :!コマンド名 | viを終了せず、動作させたままにコマンドを実行する |

<br>

------------------------

<br>

### 検索に関するコマンド

| コマンド | 説明 |
|--|--|
| /文字列 | 指定した文字列をカーソルの位置から末尾に向かって検索 |
| ?文字列 | 指定した文字列をカーソルの位置から先頭に向かって検索 |
| n | 次を検索 |
| N | 次を検索（逆方向） |
| :noh | 検索候補のハイライト（目立たせた表現）を解除する |
| :%s/A/B/ | 最初に見つかった文字列Aを文字列Bに置き換える |
| :%s/A/B/g | ファイルの全ての文字列Aを文字列Bに置き換える |
